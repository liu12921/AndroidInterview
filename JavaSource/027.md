## 静态代理和动态代理的区别，什么场景使用

Proxy 代理模式是一种结构型设计模式，主要解决的问题是：在直接方式对象时带来的问题

代理是一种常见的设计模式，其目的就是为其他对象提供一个代理以控制某个对象的访问。代理类负责为委托类预处理消息，过滤消息并转发消息，以及进行消息被委托类执行后的后续处理。

为保持行为的一致性，代理类和委托类通常为实现相同的接口，所以在访问者看来两者没有丝毫的区别。通过代理类这中间一层，能有效的控制委托类对象的直接访问，也可以很好的隐藏和保护委托类对象，同时也为实施不同控制策略预留了空间，从而在设计上获得了更大的灵活性

按照代理的创建时期，代理类可以分为两种：

#### 静态代理
&emsp;&emsp;在程序员创建代理类或者特定工具自动生成源码再对其编译。在程序运行前代理类的class文件就已经存在了

###### 优点：
&emsp;&emsp;代理客户端不需要知道实现类是什么，怎么做的，而客户端只需知道代理即可

###### 缺点：
&emsp;&emsp;1）代理类和委托类实现了相同的接口，代理类通过委托类实现了相同的方法。这样就出现了大量的代码重复。如果接口增加一个方法，所有实现类需要实现这个方法外，所有代理类也需要实现这个方法
&emsp;&emsp;2）代理对象只服务于一种类型的对象，如果要服务多类型的对象。是比要为每一种对象都进行代理，静态代理在程序微末稍大时就无法胜任了

即静态代理类只能为特定的接口(Service)服务。如想要为多个接口服务则需要建立很多个代理类。

#### 动态代理
&emsp;&emsp;在程序运行时运用反射机制动态创建而成

###### 优点：
&emsp;&emsp;最大的好处是接口中声明的所有方法都被转移到调用处理一个集中的方法处理。这样，在接口方法数量比较多的时候，我们可以进行灵活处理，而不需要像静态方法那样每一个方法进行中转。而且动态代理的应用使我们的类职责更加单一，复用性更强

#### 总结
其实所谓代理，就是一个人或者一个机构代表另一个人或者另一个机构采取行动。在一些情况下，一个客户不想或者不能直接饮用一个对象，而代理对象可以在客户端和目标对象之间起到一个中介的作用。

代理对象就是把被代理对象包装一层，在其内部做一些额外的工作，比如用户需要上Facebook，而普通网络无法直接访问，网络代理帮助用户先FQ，然后再访问，这就是代理的作用